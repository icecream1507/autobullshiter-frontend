<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Autobullshiter - 胡说自动机</title>
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="https://f-y-blog.oss-cn-shenzhen.aliyuncs.com/style.css">
    <link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto+Serif+SC" />
</head>

<body>
    <h1>Autobullshiter - 胡说自动机</h1>
    <blockquote>
        你好，这里是由<a href="https://f-y.me" target="_blank">Ted Fu</a>开发的，基于机器学习的Autobullshiter - 胡说自动机。你可以在下面键入两个词语作为一段话的开头，以及这段话的词数，机器人就会根据你键入的信息自动接出后面的话。下面也默认给出了一种填法，你可以试一试。
    </blockquote>
    <div id="app">
        <el-input type="text" placeholder="第一个词" v-model="prefix_1" maxlength="32" show-word-limit>
        </el-input>
        <div style="margin: 20px 0;"></div>
        <el-input type="text" placeholder="第二个词" v-model="prefix_2" maxlength="32" show-word-limit>
        </el-input>
        <div style="margin: 20px 0;"></div>
        <el-input type="number" placeholder="长度" v-model="length">
        </el-input>
        <div style="margin: 20px 0;"></div>
        <el-button type="primary" v-on:click="generate" round>生成</el-button>
        <h2>生成的胡话</h2>
        <blockquote>注意：下面的文字均由程序自动生成，不代表任何事实或观点，任何人也不对下面的文字负责，请勿相信下面的文字。</blockquote>
        <p>{{ message }}</p>
    </div>
</body>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<!-- import Axios -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    new Vue({
        el: '#app',
        data: {
            prefix_1: '哲学',
            prefix_2: '是',
            length: 100,
            message: ''
        },
        methods: {
            generate: function() {
                let data = {
                    "prefix1": this.prefix_1,
                    "prefix2": this.prefix_2,
                    "length": Number(this.length)
                }

                const h = this.$createElement;

                this.$notify({
                    title: '正在思考胡话中',
                    message: h('i', {
                        style: 'color: teal'
                    }, '这可能在瞬间完成，也可能需要一些时间，取决于生成的长度。想好了就在下面告诉你！')
                });

                axios
                    .post('http://193.112.136.47:1323/api/generate', data)
                    .then(response => (this.message = response.data))
            }
        }
    })
</script>

</html>